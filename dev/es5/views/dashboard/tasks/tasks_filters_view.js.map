{"version":3,"sources":["views/dashboard/tasks/tasks_filters_view.js"],"names":[],"mappings":"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","file":"views/dashboard/tasks/tasks_filters_view.js","sourcesContent":["var Backbone     = require('backbone'),\n    Helpers      = require('helpers'),\n    Plugins      = require('plugins'),\n    _            = require('underscore'),\n    BaseView     = require('views/baseview'),\n    BaseListView = require('views/elements/base_list_view'),\n    FilterModel  = require('models/dashboard/tasks_filter_model'),\n    tpl          = require('templates/dashboard/tasks/tasks_filters.tpl');\n \nvar ContentView = BaseView.extend({\n\ttemplate: tpl,\n\tclassName: 'filters',\n\tevents: {\n\t\t'click .menu-item': 'changeFilter',\n\t\t'change .priority': 'changePriority'\n\t},\n\tonInitialize: function (params) {\n\t\tBaseView.prototype.onInitialize.call(this, params);\n\t\tthis.route = location.hash.split('?')[0] + '?';\n\n\t\tvar initialState = _.extend({filter: 'all', sort: 'title'}, params.query);\n\n\t\tthis.model = new FilterModel(initialState);\n\t\tthis.modelBinder = new Backbone.ModelBinder();\n\t\tthis.model.on('change', this.onModelChange, this);\n\t},\n\tonModelChange: function () {\n\t\tBackbone.history.navigate(this.getRouteWithParams(), {trigger: true});\n\t},\n\tupdateFilterModel: function (model) {\n\t\tthis.model.set(model);\n\t\tthis.filterList.highlight();\n\t\tthis.sortList.highlight();\n\n\t\t//this.getElement('.custom-select').customSelect('refresh');\n\t},\n\tonRender: function () {\n\t\tthis.modelBinder.bind(this.model, this.el);\n\t\tthis.filterList = new Plugins.setActiveStateAtList(this.getElement('.base-filters'), 'filter');\n\t\tthis.sortList = new Plugins.setActiveStateAtTable(this.getElement('.dashboard-table-header'), 'sort');\n\n\t\t//this.getElement('#projects-select').customSelect({\n\t\t//\ttemplate: 'customSelectListTpl',\n\t\t//\turl: this.api.getUrlFromCatalog('projects')\n\t\t//});\n\t\t//\n\t\t//this.getElement('#milestones-select').customSelect({\n\t\t//\turl: this.api.getUrlFromCatalog('milestones'),\n\t\t//\ttemplate: 'customSelectListTpl'\n\t\t//});\n\t\t//\n\t\t//this.getElement('#priorities-select').customSelect({\n\t\t//\turl: this.api.getUrlFromCatalog('priorities'),\n\t\t//\ttemplate: 'customSelectListPriority'\n\t\t//});\n\t},\n\tserialize: function () {\n\t\tthis.data = _.clone(this.model.attributes);\n\t},\n\tgetRouteWithParams: function () {\n\t\treturn this.route + Helpers.serializeModel(this.model.toJSON());\n\t},\n\tremove: function () {\n\t\tthis.modelBinder.unbind();\n\t\t//this.getElement('.custom-select').customSelect('destroy');\n\t\tBaseView.prototype.remove.call(this);\n\t}\n});\n\nmodule.exports = ContentView;"],"sourceRoot":"/source/"}