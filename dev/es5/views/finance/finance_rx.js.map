{"version":3,"sources":["views/finance/finance_rx.js"],"names":[],"mappings":"AAAA,IAAI,EAAE,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;;AAEvB,IAAI,MAAM,GAAG,UAAS,MAAM,EAAE,QAAQ,EAAC;AACnC,QAAI,CAAC,EAAE,GAAG;AACN,aAAK,EAAE,MAAM;AACb,eAAO,EAAE,QAAQ;KACpB,CAAC;;AAEF,QAAI,CAAC,MAAM,GAAG,EAAE,CAAC,UAAU,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,KAAK,EAAE,OAAO,CAAC,CACxD,KAAK,CAAC,QAAQ,EAAE,OAAO;;AAAC,KAExB,MAAM,CAAC,UAAS,IAAI,EAAE;AACnB,YAAG,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE,QAAQ,CAAC,KAAK,EAAE,CAAC;AACrC,eAAO,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;KAC1B,CAAC,CACD,oBAAoB,EAAE,CAAC;CAC/B,CAAC;;AAEF,MAAM,CAAC,SAAS,CAAC,UAAU,GAAG,YAAU;AACpC,QAAI,CAAC,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;AACnE,QAAI,CAAC,WAAW,CAAC,SAAS,CACtB,CAAA,UAAS,IAAI,EAAE;AACX,YAAI,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YAC9B,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;;AAEnC,YAAI,CAAC,EAAE,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;;AAExB,aAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AACzC,gBAAI,CAAC,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC,eAAe,GAAG,WAAW,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,WAAW,CAAC,CAAC,CAAC,GAAG,WAAW,CAAC,CAAC;SAClG;KACJ,CAAA,CAAC,IAAI,CAAC,IAAI,CAAC,EACZ,UAAS,CAAC,EAAE;AACR,qBAAa,CAAC,UAAU,CAAC,CAAC;AAC1B,YAAI,CAAC,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC,cAAc,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC,CAAC;KACzD,CACJ,CAAC;CACL,CAAC;;AAEF,MAAM,CAAC,SAAS,CAAC,eAAe,GAAG,UAAS,IAAI,EAAC;AAC7C,QAAI,GAAG,GAAG,yEAAyE,GAAG,kBAAkB,CAAC,IAAI,CAAC,GAAG,yBAAyB,CAAC;AAC3I,WAAO,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;CACnC,CAAC;;AAEN,MAAM,CAAC,OAAO,GAAG,MAAM,CAAC","file":"views/finance/finance_rx.js","sourcesContent":["var Rx = require('rx-dom');\r\n\r\n    var WikiRx = function($input, $results){\r\n        this.ui = {\r\n            input: $input,\r\n            results: $results\r\n        };\r\n\r\n        this.keyups = Rx.Observable.fromEvent(this.ui.input, 'keyup')\r\n            .pluck('target', 'value')\r\n            // .debounce(500 /* ms */)\r\n            .filter(function(text) {\r\n                if(text.length < 3) $results.empty();\r\n                return text.length > 2;\r\n            })\r\n            .distinctUntilChanged();\r\n    };\r\n\r\n    WikiRx.prototype.initialize = function(){\r\n        this.suggestions = this.keyups.flatMapLatest(this.searchWikipedia);\r\n        this.suggestions.subscribe(\r\n            function(data) {\r\n                var resultsName = data.response[1],\r\n                    resultsLink = data.response[3];\r\n\r\n                this.ui.results.empty();\r\n\r\n                for (var i = 0; i < resultsName.length; i++) {\r\n                    this.ui.results.append('<li><a href=\"' + resultsLink[i] + '\">' + resultsName[i] + '</a></li>');\r\n                }\r\n            }.bind(this),\r\n            function(e) {\r\n                clearSelector(resultList);\r\n                this.ui.results.append(createLineItem('Error: ' + e));\r\n            }\r\n        );\r\n    };\r\n\r\n    WikiRx.prototype.searchWikipedia = function(term){\r\n        var url = 'http://en.wikipedia.org/w/api.php?action=opensearch&format=json&search=' + encodeURIComponent(term) + '&callback=JSONPCallback';\r\n        return Rx.DOM.jsonpRequest(url);\r\n    };\r\n\r\nmodule.exports = WikiRx;\r\n"],"sourceRoot":"/source/"}