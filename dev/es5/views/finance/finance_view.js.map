{"version":3,"sources":["views/finance/finance_view.js"],"names":[],"mappings":"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","file":"views/finance/finance_view.js","sourcesContent":["var Backbone = require('backbone'),\r\n    //Rx = require('rx/dist/rx.lite'),\r\n    Helpers  = require('helpers'),\r\n    Rx       = require('rx-dom'),\r\n    WikiRx   = require('views/finance/finance_rx');\r\n\r\nvar Kefir             = require('kefir'),\r\n    //sortable          = require('jquery-ui/sortable'),\r\n    //tooltip           = require('jquery-ui/tooltip'),\r\n    BaseView          = require('views/baseview'),\r\n    RoutedView        = require('views/routedview'),\r\n    BaseListView      = require('views/elements/base_list_view'),\r\n    navBarCollection  = require('collections/header_list'),\r\n    financeTpl        = require('templates/finance/finance.tpl'),\r\n    headerListItemTpl = require('templates/elements/nav_list_item.tpl'),\r\n    transactionsTpl   = require('templates/finance/tabs/transactions.tpl'),\r\n    finacntTpl        = require('templates/finance/tabs/finacnt.tpl'),\r\n    cashflowacntTpl   = require('templates/finance/tabs/cashflowacnt.tpl');\r\n\r\nvar transactionsView = BaseView.extend({\r\n\ttagName: 'div',\r\n\ttemplate: transactionsTpl,\r\n\tclassName: 'finance-container',\r\n\tonInitialize: function (params) {\r\n\t\tBaseView.prototype.onInitialize.call(this, params);\r\n\t}\r\n});\r\n\r\nvar finacntView = BaseView.extend({\r\n\ttagName: 'div',\r\n\ttemplate: finacntTpl,\r\n\tclassName: 'finance-container',\r\n\tonInitialize: function (params) {\r\n\t\tBaseView.prototype.onInitialize.call(this, params);\r\n\t}\r\n});\r\n\r\nvar cashflowacntView = BaseView.extend({\r\n\ttagName: 'div',\r\n\ttemplate: cashflowacntTpl,\r\n\tclassName: 'finance-container',\r\n\tonInitialize: function (params) {\r\n\t\tBaseView.prototype.onInitialize.call(this, params);\r\n\t},\r\n\tonRender: function () {\r\n\t\tvar $input   = this.getContentInternal().find('.input'),\r\n\t\t    $results = this.getContentInternal().find('.results');\r\n\r\n\t\tvar wikiRx = new WikiRx($input, $results);\r\n\t\twikiRx.initialize();\r\n\r\n\t\t//KEFIR\r\n\t\tvar counterUp     = this.getContentInternal().find('.counterUp'),\r\n\t\t    counterDown   = this.getContentInternal().find('.counterDown'),\r\n\t\t    count         = this.getContentInternal().find('.count'),\r\n\t\t    outputElement = this.getContentInternal().find('.label');\r\n\r\n\t\tvar btnClicksUp = Kefir.fromEvents(counterUp, 'click');\r\n\t\tvar btnClicksDown = Kefir.fromEvents(counterDown, 'click');\r\n\r\n\t\t//var inputValue = Kefir.fromEvents(count, 'keyup')\r\n\t\t//                      .map(event = > event.target.value\r\n\t\t//)\r\n\t\t//;\r\n\t\t//\r\n\t\t//\r\n\t\t//var clicksCountUp = btnClicksUp.scan(sum = > sum + 1, 0\r\n\t\t//)\r\n\t\t//;\r\n\t\t//var clicksCountDown = btnClicksDown.scan(sum = > sum - 1, 0\r\n\t\t//)\r\n\t\t//;\r\n\r\n\t\t// var inputNumber = inputValue.map(text => parseInt(text, 10));\r\n\r\n\t\t// var fixedInputNumber = inputValue.flatMap(\r\n\t\t//     x => isNaN(x) ? Kefir.constantError('banana?') : Kefir.constant(x)\r\n\t\t// );\r\n\r\n\t\t//var theResult = Kefir.combine([clicksCountUp, clicksCountDown], (a, b) = > a + b\r\n\t\t//)\r\n\t\t//;\r\n\r\n\t\t//\r\n\t\t//theResult\r\n\t\t//    .onValue(x => {\r\n\t\t//        outputElement.html(x);\r\n\t\t//    })\r\n\t\t//    .onError(error => {\r\n\t\t//        outputElement.html('<span style=\"color:red\">' + error + '</span>');\r\n\t\t//    });\r\n\r\n\r\n\t}\r\n});\r\n\r\nvar ContentView = RoutedView.extend({\r\n\ttagName: 'div',\r\n\ttemplate: financeTpl,\r\n\tclassName: 'finance',\r\n\troutes: {\r\n\t\t'transactions': transactionsView,\r\n\t\t'finacnt': finacntView,\r\n\t\t'cashflowacnt': cashflowacntView\r\n\t},\r\n\tlinks: [{\r\n\t\tid: \"transactions\",\r\n\t\tname: \"transactions\"\r\n\t}, {\r\n\t\tid: \"finacnt\",\r\n\t\tname: \"finacnt\"\r\n\t}, {\r\n\t\tid: \"cashflowacnt\",\r\n\t\tname: \"cashflowacnt\"\r\n\t}],\r\n\tonInitialize: function (params) {\r\n\t\tBaseView.prototype.onInitialize.call(this, params);\r\n\r\n\t\tthis.collection = Helpers.createLinks(this.links, params.stage);\r\n\t\tthis.addView(BaseListView, {\r\n\t\t\tcollection: new navBarCollection(this.collection)\r\n\t\t}, '.finance_page__left');\r\n\t},\r\n\tonRender: function () {\r\n\r\n\t}\r\n});\r\n\r\nmodule.exports = ContentView;\r\n"],"sourceRoot":"/source/"}